# 画像アップロードLINEスタンプ生成アプリケーション 要求定義書（ハッカソン版）

## 1. プロジェクト概要

### 1.1 プロジェクト名
画像アップロードLINEスタンプ生成アプリケーション（ハッカソン版）

### 1.2 プロジェクトの目的
2時間のハッカソンで、画像をアップロードして音声付きLINEスタンプを生成する簡易Webアプリケーションを作成する。

### 1.3 対象ユーザー
- ハッカソン参加者
- デモ用のプロトタイプ

## 2. 機能要件（簡易版）

### 2.1 基本機能（MVP）

#### 2.1.1 画像アップロード機能
- **要件**: ユーザーが画像ファイルをアップロードできる
- **対応形式**: JPG, PNG
- **ファイルサイズ制限**: 最大5MB
- **機能詳細**:
  - ファイル選択ボタン
  - プレビュー表示

#### 2.1.2 音声生成機能（VOICEVOX版）
- **要件**: VOICEVOXを使用してテキストから音声を生成
- **音声タイプ**: 
  - プリセットテキスト（「わーい！」「やったー！」「えー！」等）
  - ユーザー入力テキスト（任意の文字列）
- **音声形式**: WAV
- **音声長**: 1-5秒
- **品質**: 44.1kHz, 16bit
- **VOICEVOX設定**:
  - キャラクター: デフォルト（四国めたん等）
  - 感情: 基本感情（喜び、驚き、悲しみ等）
  - 速度: 調整可能

#### 2.1.3 LINEスタンプ生成機能
- **要件**: 画像と音声を組み合わせてスタンプ形式で出力
- **出力形式**: 静的画像スタンプ（PNG）
- **サイズ**: 240x240px
- **ファイル形式**: 個別ダウンロード

## 3. 非機能要件（簡易版）

### 3.1 性能要件
- **レスポンス時間**: 30秒以内
- **同時接続数**: 最大10ユーザー
- **データ保持期間**: セッション中のみ

### 3.2 ユーザビリティ要件
- **操作性**: シンプルで直感的なUI
- **レスポンシブ対応**: 基本的なPC表示

## 4. 技術要件（Pythonベース）

### 4.1 フロントエンド
- **フレームワーク**: HTML + CSS + JavaScript（Vanilla）
- **UI**: Bootstrap または シンプルなCSS
- **ファイル処理**: HTML5 File API

### 4.2 バックエンド
- **フレームワーク**: Flask または FastAPI
- **画像処理**: Pillow (PIL)
- **音声処理**: VOICEVOX API
- **ファイル保存**: ローカルファイルシステム

### 4.3 使用ライブラリ
```python
# 必要なライブラリ
flask  # Webフレームワーク
pillow  # 画像処理
requests  # VOICEVOX API通信
werkzeug  # ファイルアップロード
```

## 5. 制約事項（ハッカソン版）

### 5.1 技術的制約
- **開発時間**: 2時間
- **ブラウザ対応**: Chrome最新版のみ
- **ファイルサイズ**: アップロード制限5MB
- **処理時間**: 30秒以内

### 5.2 機能制約
- ユーザー認証なし
- データベースなし
- 外部API使用なし（オフライン完結）

## 6. 開発スケジュール（2時間）

### 6.1 Phase 1（30分）- 環境構築
- Python環境セットアップ
- Flask/FastAPIプロジェクト作成
- 必要なライブラリインストール

### 6.2 Phase 2（45分）- 基本機能実装
- 画像アップロード機能
- 画像リサイズ機能
- 基本的なWeb UI作成

### 6.3 Phase 3（30分）- 音声機能実装
- プリセット音声ファイル準備
- 音声付きスタンプ生成
- ダウンロード機能

### 6.4 Phase 4（15分）- デバッグ・調整
- 動作確認
- UI調整
- デモ準備

## 7. 成功指標（ハッカソン版）

### 7.1 最低限の成功条件
- 画像アップロードが動作する
- 音声付きスタンプが生成される
- ダウンロードが可能
- デモで動作確認できる

### 7.2 追加ポイント
- 美しいUI/UX
- 複数音声選択
- エラーハンドリング

## 8. 実装のポイント

### 8.1 技術選択の理由
- **Python**: 画像・音声処理ライブラリが豊富
- **Flask**: 軽量で素早く開発可能
- **Pillow**: 画像処理が簡単
- **VOICEVOX API**: 音声処理が直感的

### 8.2 時間短縮のコツ
- 外部APIを使わない（オフライン完結）
- プリセット音声を使用
- シンプルなUI設計
- エラーハンドリングは最小限

### 8.3 VOICEVOX実装のポイント
- **ローカルVOICEVOX**: オフラインで動作
- **API通信**: requestsライブラリでHTTP通信
- **プリセットテキスト**: よく使われるフレーズを準備
- **キャラクター選択**: 複数のキャラクターから選択可能
- **感情調整**: 基本的な感情パラメータを設定

## 9. 今後の拡張予定（本格版）

### 9.1 機能拡張
- AI画像分析
- 音声合成
- ユーザー管理
- データベース連携

### 9.2 技術拡張
- React.jsフロントエンド
- クラウドデプロイ
- 外部AI API連携
- モバイル対応
